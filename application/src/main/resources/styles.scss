$primaryBlue: #1bbae2;
$primaryGold: #dcab06;

$darkText: #111;
$lightText: #eee;

$bronze: #C68A6B;
$silver: #BDDBDE;
$gold: #EFD377;
$dirt: #918888;

$chromatic-desaturation-amount: 50%;
$chromatic: conic-gradient(
  desaturate(#B5FFB5, $chromatic-desaturation-amount),
  desaturate(#A5FBF7, $chromatic-desaturation-amount),
  desaturate(#ADB6FF, $chromatic-desaturation-amount),
  desaturate(#EF9EFF, $chromatic-desaturation-amount),
  desaturate(#ADFBFF, $chromatic-desaturation-amount),
  desaturate(#FFFFF7, $chromatic-desaturation-amount),
  desaturate(#FFFFCE, $chromatic-desaturation-amount),
  desaturate(#FFB294, $chromatic-desaturation-amount),
  desaturate(#BDF7B5, $chromatic-desaturation-amount), // half
  desaturate(#C8B6EF, $chromatic-desaturation-amount),
  desaturate(#D6EBFF, $chromatic-desaturation-amount),
  desaturate(#ADFFE7, $chromatic-desaturation-amount),
  desaturate(#ADFFBD, $chromatic-desaturation-amount),
  desaturate(#FFFFEF, $chromatic-desaturation-amount),
  desaturate(#FFFFBD, $chromatic-desaturation-amount),
  desaturate(#A5FFF7, $chromatic-desaturation-amount),
  desaturate(#F78EFF, $chromatic-desaturation-amount),
  desaturate(#B5FFB5, $chromatic-desaturation-amount)
);
$colors: ("dirt": $dirt, "bronze": $bronze, "silver": $silver, "gold": $gold, "chromatic": $chromatic);

$roles: abomination assassin brawler cannoneer caretaker cavalier cruel dawnbringer draconic forgotten hellion inanimate invoker ironclad knight legionnaire mystic nightbringer ranger redeemed renewer revenant sentinel skirmisher spellweaver victorious;
$champions: aatrox akshan aphelios ashe brand diana draven fiddlesticks galio garen gragas gwen hecarim heimerdinger irelia ivern jax kalista karma kayle kennen khazix kled leesin leona lucian lulu lux missfortune nautilus nidalee nocturne nunu olaf poppy pyke rakan rell riven sejuani senna sett soraka syndra teemo thresh tristana udyr varus vayne velkoz viego vladimir volibear yasuo ziggs zyra;



html {
  background: linear-gradient(to bottom right, rgba($primaryBlue, 0.05) 0%, rgba($primaryBlue, 0.1) 100%);
  min-height: 100%;
  color: $darkText;
  font-family: Calibri;
}

h1, h2, h3, h4, h5, h6 {
  font-family: Candara;
  font-family: Corbel;
}

h1 {
  color: $primaryGold;
  -webkit-text-stroke-width: 0.5px;
  -webkit-text-stroke-color: black;
  font-size: 64px;
  background: left center / 128px 128px url("favicon.png") no-repeat;
  padding-left: 128px;
  line-height: 128px;
  margin-top: 0;
  margin-bottom: 0.25em;
}

.role-filter {
  .role {
    width: 9rem;
    white-space: nowrap;

    label {
      background: left center / 2rem no-repeat;
      padding-left: 2.3rem;
    }

    @each $role in abomination, assassin, brawler, cannoneer, caretaker, cavalier, cruel, dawnbringer, draconic, forgotten, hellion, inanimate, invoker, ironclad, knight, legionnaire, mystic, nightbringer, ranger, redeemed, renewer, revenant, sentinel, skirmisher, spellweaver, victorious {
      &.#{$role} label {
        background-image: url("images/traits/#{$role}.svg");
      }
    }

    &.is-changed, &:hover {
      text-shadow: 0px 0px 5px $primaryGold;
    }
  }
}

.champion-filter {
  .champion {
    input {
      display: none;
    }

    background: left center / 2rem url("champions.png") no-repeat;
    padding-left: 2.3rem;
    line-height: 2rem;
    margin-bottom: 2px;

    @for $i from 1 through length($champions) {
      $champion: nth($champions, $i);

      &.#{$champion} {
        background-position: 0 (-2rem * ($i - 1));
      }
    }

    &.is-selected, &:hover {
      text-shadow: 0px 0px 5px $primaryGold;
    }
  }
}

.composition {
  display: flex;
  text-align: center;
  position: relative;

  overflow: hidden;

  &:hover {
    position: absolute;

    .synergy {
      z-index: 2;
    }

    .composition-roles {
      z-index: 1;

      &:hover {
        min-height: 18rem;
        height: max-content;

        .role &:nth-child(n+8) {
          font-size: 16px;
        }
      }
    }
  }

  .synergy {
    position: absolute;
    transform: rotate(-45deg);
    width: 10rem;
    text-align: center;
    top: -0.5rem;
    left: -3.75rem;
    background: $primaryBlue;
    text-shadow: 1px 1px black;
    color: $lightText;

    small {
      display: none;
    }
  }

  .composition-roles {
    padding: 1rem 2rem;
    list-style: none;
    width: 10rem;
    height: 18rem;

    display: flex;
    flex-direction: column;
    align-content: flex-start;

    border: 1px solid black;
    border-radius: 0.5rem;
    background: scale-color($primaryBlue, $lightness: 70%);
    color: $darkText;

    &:not(:hover) .role {

      &:nth-child(n+8) {
        font-size: 0;

        &:after {
          display: none;
        }

        &:nth-child(8) {
          &:before {
            content: "…";
            font-size: 16px;
            display: block;
            margin: -1rem 0 0 40px;
            color: $darkText;
            -webkit-text-stroke-width: 0;
          }
        }
      }
    }

    .role {
      position: relative;

      font-size: 16px;
      text-indent: 40px;
      text-align: left;
      height: 40px;
      line-height: 40px;

      &:before {
        content: "⬢";
        font-size: 43px;
        -webkit-text-stroke: 3px black;
        text-indent: 0;
        color: $dirt;

        width: 40px;
        height: 40px;
        line-height: 40px;

        display: inline-block;

        margin-left: -39px;
        position: absolute;
      }

      &:after {
        content: ' ';
        font-size: 40px;
        background: center / 16px no-repeat;
        width: 40px;
        height: 40px;
        line-height: 40px;

        position: absolute;
        left: -2px;
      }

      @each $role in abomination, assassin, brawler, cannoneer, caretaker, cavalier, cruel, dawnbringer, draconic, forgotten, hellion, inanimate, invoker, ironclad, knight, legionnaire, mystic, nightbringer, ranger, redeemed, renewer, revenant, sentinel, skirmisher, spellweaver, victorious {
        &.#{$role}:after {
          background-image: url("images/traits/#{$role}.svg");
        }
      }

      @each $name, $color in $colors {
        &.#{$name}:before {
          @if $color == $chromatic {
            background-image: $color;
           -webkit-background-clip: text;
           -webkit-text-fill-color: transparent;
          } @else {
            color: $color;
          }
        }
      }


    }
  }

  .champions {
    display: flex;
    list-style: none;
    padding-left: 0;

    .champion {
      width: 10.1rem;
      height: 20rem;
      overflow: hidden;

      border: 1px solid black;
      border-radius: 0.5rem;

      background: top left / 10.1rem url("champions.png") no-repeat;

      @for $i from 1 through length($champions) {
        $champion: nth($champions, $i);

        &.#{$champion} {
          background-position: 0 (-10.1rem * ($i - 1));
        }
      }

      .name, .champion-roles {
        color: $lightText;
        background: #222;
        margin: 0;
        line-height: 40px;
        font-size: 20px;
      }

      .name {
        transition-duration: 0.3s;
        margin-top: 10.1rem;
      }

      &:hover {
        .name {
          margin-top: 20rem;
        }
      }

      .champion-roles {
        height: 100%;
        flex-direction: column;

        .role {
          position: relative;

          font-size: 16px;
          color: white;
          text-indent: 40px;
          text-align: left;
          height: 40px;
          line-height: 40px;
          margin-left: 1rem;

          &:before {
            content: "⬢";
            font-size: 40px;
            -webkit-text-stroke: 2px #555;
            text-indent: 0;
            color: #2e2c2c;

            width: 40px;
            height: 40px;
            line-height: 40px;

            display: inline-block;

            margin-left: -39px;
            position: absolute;
          }

          &:after {
            content: ' ';
            font-size: 40px;
            background: center / 16px no-repeat;
            filter: invert(1);
            width: 40px;
            height: 40px;
            line-height: 40px;

            position: absolute;
            left: -3px;
          }

          @each $role in abomination, assassin, brawler, cannoneer, caretaker, cavalier, cruel, dawnbringer, draconic, forgotten, hellion, inanimate, invoker, ironclad, knight, legionnaire, mystic, nightbringer, ranger, redeemed, renewer, revenant, sentinel, skirmisher, spellweaver, victorious {
            &.#{$role}:after {
              background-image: url("images/traits/#{$role}.svg");
            }
          }
        }
      }
    }
  }
}